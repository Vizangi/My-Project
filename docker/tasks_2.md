# Запускаем Docker Compose

## Шаг 1
- Пишем `Docker Compose` для простейшей связки мониторинга:
  - **Grafana + Prometheus + Node Exporter**

## Шаг 2
- Объявляем `volumes`

## Шаг 3
- Назначаем общую сетку
  - `network_monitoring`

## Шаг 4
- Пробрасываем конфиги
  - Кладем конфиги под ноги директории с `Docker Compose` файлом
  - ```bash
    volumes:
      - ./prometheus.yml:/etc/prometheus/prometheus.yml   # здесь из-под ног корневой директории пробрасывается ваш файл ./prometheus.yml через двоеточие : в директорию контейнера :/etc/prometheus/prometheus.yml
    ```

## Шаг 5
- Скачиваем только последние версии ПО: `latest`

## Шаг 6
- Удаляем в начале файла `Compose` версию `Docker Compose`, потому что она каждый раз обновляется, из-за этого скрипт `Compose` может не отработать

## Шаг 7
- Проверяем связку из **Шага 1**
  - Проверяем, что все веб-морды отрабатывают
  - Загружаем дашборд [Node Exporter Full](https://grafana.com/grafana/dashboards/1860-node-exporter-full/) в **Grafana** и проверяем работу

## Шаг 8
- Если всё успешно запустилось, то нужно удалить Compose проект `docker compose down` и проверить, что всё удалилось:
  - ```
    docker ps      # список запущенных контейнеров (запущенные в данный момент)
    docker ps -a   # список когда либо запущенных контейнеров (все стопнутые контейнеры в ожидании)
    ```
- Образы `images` - пусть остаются для следующих проектов, чтобы их потом повторно не загружать и не ждать
- Проверка образов
  - ```
    docker images   # список скачанных образов
    ``` 
