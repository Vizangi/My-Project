# **Вопросы по теме Docker к собеседованию**

### **Простые вопросы**

1. **Что такое Docker?**
   - Ответ: Docker — это платформа для контейнеризации приложений, которая позволяет упаковывать приложения и их зависимости в изолированные контейнеры.

2. **Что такое контейнер?**
   - Ответ: Контейнер — это легковесная, изолированная среда, которая содержит приложение и все его зависимости для запуска.

3. **Какие основные команды Docker вы знаете?**
   - Ответ: `docker run`, `docker build`, `docker ps`, `docker images`, `docker logs`, `docker exec`.

4. **Что такое Dockerfile?**
   - Ответ: Dockerfile — это текстовый файл, содержащий инструкции для создания Docker-образа.

5. **Как создать Docker-образ?**
   - Ответ: Используя команду `docker build -t <имя_образа> .` в директории с Dockerfile.

6. **Что такое Docker Compose и как его запустить?**
   - Ответ: Docker Compose — это инструмент для управления многоконтейнерными приложениями через YAML-файл.
   - Ответ: Запустите Docker Compose `docker-compose up -d`

7. **Как запустить контейнер?**
   - Ответ: `docker run <имя_образа>`.

8. **Что такое Docker Hub?**
   - Ответ: Docker Hub — это облачный реестр образов Docker, где можно хранить и делиться образами.

9. **Как остановить контейнер?**
   - Ответ: `docker stop <id_контейнера>`.

10. **Что такое volumes в Docker?**
    - Ответ: Volumes — это механизм для сохранения данных вне контейнера, чтобы данные не терялись при перезапуске контейнера.

---

### **Каверзные вопросы**

11. **Чем отличается виртуализация от контейнеризации?**
    - Ответ: Виртуализация эмулирует полную операционную систему с гипервизором (например, VMware, VirtualBox), а контейнеризация **использует ядро хостовой системы** и предоставляет изоляцию только на уровне процессов и файловой системы.

12. **Можно ли запустить Windows в контейнере?**
    - Ответ: Да,
      Это контейнеры, которые работают на Windows-хосте и используют ядро Windows. Они бывают двух типов:
      
      Windows Server Core (урезанная версия Windows Server)
      
      Nano Server (очень легковесная версия)
      
      Ограничения:
      
      Работают только на Windows 10/11 Pro/Enterprise или Windows Server.
      
      Требуют включённой функции "Контейнеры Windows".
      
      Не могут работать на Linux-хосте (потому что используют ядро Windows).

13. Почему нельзя запустить Windows в контейнере Docker?
    - Контейнеры — это изолированные процессы, которые используют ядро хостовой ОС. Это значит:

      Если хостовая ОС — Linux, контейнеры работают поверх ядра Linux.
      
      Если хостовая ОС — Windows, контейнеры работают поверх ядра Windows.
      
      Проблема:
      
      Windows — это монолитная ОС, её нельзя просто "запустить" как процесс внутри Linux-контейнера, потому что её ядро несовместимо с Linux.
      
      Виртуализация (например, Hyper-V) позволяет запускать Windows внутри виртуальной машины, но не в контейнере.
      
      Но:
      
      Можно запускать Linux-приложения в Windows через WSL2 (это гибрид виртуализации и контейнеризации).
14. **Есть ли контейнеры на основе Windows?**
    - Ответ: Да, Docker поддерживает контейнеры на базе Windows, но они требуют Windows Server или Windows 10/11 Pro с включенной поддержкой контейнеров.

15. **Как сделать мониторинг внешних серверов из контейнера?**
    - Ответ: Использовать инструменты мониторинга (например, Prometheus, Grafana) внутри контейнера, который будет собирать метрики через сети (например, HTTP, SNMP).

16. **Как сохранять данные в контейнерах?**
    - Ответ: Использовать volumes (`docker volume create`) или bind mounts (`docker run -v /host/path:/container/path`).

17. **Что такое UID и GID в Docker?**
    - Ответ: UID (User ID) и GID (Group ID) — это идентификаторы пользователя и группы внутри контейнера, которые влияют на права доступа к файлам.

18. **Как смотреть логи контейнера?**
    - Ответ: `docker logs <id_контейнера>`.

19. **Как делать дебаг контейнера?**
    - Ответ: Использовать `docker exec -it <id_контейнера> bash` для входа в контейнер, проверки логов, переменных окружения и состояния процессов.

20. **Как правильно писать Dockerfile?**
    - Ответ (выучить, что означает каждая строка):
      ```Dockerfile
      FROM python:3.9
      WORKDIR /app
      COPY requirements.txt .
      RUN pip install -r requirements.txt
      COPY . .
      CMD ["python", "app.py"]
      ```

21. **Как правильно писать docker-compose.yml?**
    - Ответ (выучить, что означает каждая строка):
      ```yaml
      version: '3.8'
      services:
        web:
          image: nginx:latest
          ports:
            - "80:80"
        app:
          build: .
          volumes:
            - .:/app
      ```

---

### **Дополнительные вопросы по архитектуре Docker**

#### **21. Какие основные компоненты входят в Docker Engine?**
- **Ответ**: Docker Engine состоит из:
  - **Docker Daemon (dockerd)**: Управляет контейнерами, образами, сетями и томами.
  - **REST API**: Позволяет взаимодействовать с Docker Daemon через HTTP.
  - **CLI (Command Line Interface)**: Интерфейс для отправки команд Docker Daemon.

---

#### **22. Что такое containerd и какую роль он играет в Docker?**
- **Ответ**: 
  - `containerd` — это высокопроизводительный runtime для управления контейнерами.
  - Он отвечает за жизненный цикл контейнеров (создание, запуск, остановка).
  - В современной архитектуре Docker, `containerd` выступает как отдельный компонент, который работает под управлением Docker Daemon.

---

#### **23. На каком языке написан Docker?**
- **Ответ**: Docker написан на языке программирования **Go (Golang)**. Выбор Go обусловлен его производительностью, кроссплатформенностью и удобством работы с системными вызовами.

---

#### **24. Какие фреймворки и библиотеки использует Docker?**
- **Ответ**: Docker использует следующие фреймворки и библиотеки:
  - **libcontainer**: Библиотека для управления контейнерами (устарела, заменена на `runc`).
  - **runc**: Стандартный runtime для запуска контейнеров, соответствующий спецификации OCI (Open Container Initiative).
  - **gRPC**: Для коммуникации между компонентами Docker.
  - **Moby Project**: Open-source проект, из которого развивается Docker.

---

#### **25. Что такое OCI (Open Container Initiative)?**
- **Ответ**:
  - OCI — это открытый стандарт для форматов контейнеров и runtime.
  - Docker поддерживает спецификации OCI, что обеспечивает совместимость с другими инструментами контейнеризации.
  - Основные спецификации:
    - **Image Spec**: Формат образов контейнеров.
    - **Runtime Spec**: Стандарт для выполнения контейнеров.

---

#### **26. Как работает изоляция контейнеров в Docker?**
- **Ответ**:
  - Docker использует технологии ядра Linux для изоляции контейнеров:
    - **Namespaces**: Обеспечивают изоляцию процессов, файловых систем, сети и пользователей.
    - **Cgroups (Control Groups)**: Ограничивают использование ресурсов (CPU, память, диск).
  - В Windows используется аналогичная технология Hyper-V для изоляции.

---

#### **27. Какие типы сетей поддерживаются в Docker?**
- **Ответ**: Docker поддерживает несколько типов сетей:
  - **Bridge**: Стандартная сеть для контейнеров на одном хосте.
  - **Host**: Контейнер использует сеть хоста напрямую (без NAT).
  - **Overlay**: Используется для связи контейнеров на разных хостах (например, в Docker Swarm).
  - **Macvlan**: Присваивает контейнеру MAC-адрес, делая его видимым как физическое устройство в сети.
  - **None**: Изолирует контейнер от сети.

---

#### **28. Как Docker управляет образами?**
- **Ответ**:
  - Образы Docker состоят из слоев (layers), каждый из которых представляет собой изменение файловой системы.
  - Слои кэшируются, что ускоряет сборку новых образов.
  - Docker использует Union File System (например, OverlayFS) для объединения слоев в единую файловую систему.

---

#### **29. Что такое Docker Storage Driver?**
- **Ответ**:
  - Docker Storage Driver управляет тем, как образы и контейнеры хранятся на диске.
  - Примеры драйверов:
    - **Overlay2**: Рекомендуемый драйвер для Linux.
    - **AUFS**: Используется в старых системах.
    - **Btrfs/ZFS**: Поддерживают копирование на уровне блоков.
  - Выбор драйвера зависит от операционной системы и требований к производительности.

---

#### **30. Как Docker обеспечивает безопасность контейнеров?**
- **Ответ**:
  - **Capabilities**: Docker ограничивает права контейнеров, предоставляя только минимально необходимые возможности (например, нет доступа к root).
  - **Seccomp**: Фильтрует системные вызовы для предотвращения опасных действий.
  - **AppArmor/SELinux**: Добавляют дополнительные уровни безопасности на уровне ядра.
  - **User Namespaces**: Разделяют пользователей хоста и контейнера, чтобы избежать эскалации привилегий.
